(function(_0x1a23c8,_0x25b246){var _0x5186a7=_0x49d5,_0x1e745d=_0x1a23c8();while(!![]){try{var _0x5bc7ad=-parseInt(_0x5186a7(0x176))/0x1*(parseInt(_0x5186a7(0x193))/0x2)+-parseInt(_0x5186a7(0x1a9))/0x3*(-parseInt(_0x5186a7(0x195))/0x4)+-parseInt(_0x5186a7(0x186))/0x5+-parseInt(_0x5186a7(0x163))/0x6*(parseInt(_0x5186a7(0x1a1))/0x7)+parseInt(_0x5186a7(0x1a7))/0x8+parseInt(_0x5186a7(0x192))/0x9+parseInt(_0x5186a7(0x18a))/0xa;if(_0x5bc7ad===_0x25b246)break;else _0x1e745d['push'](_0x1e745d['shift']());}catch(_0x174c0c){_0x1e745d['push'](_0x1e745d['shift']());}}}(_0x4d1e,0x87c55));function _0x49d5(_0xc1a75,_0x1455b7){var _0x4d1e9a=_0x4d1e();return _0x49d5=function(_0x49d555,_0x2eda32){_0x49d555=_0x49d555-0x158;var _0xaa514f=_0x4d1e9a[_0x49d555];return _0xaa514f;},_0x49d5(_0xc1a75,_0x1455b7);}function doGet(_0x2133ab){var _0xbdbbae=_0x49d5,_0xed5c32=_0x2133ab[_0xbdbbae(0x185)][_0xbdbbae(0x1b4)],_0x4a0709=_0x2133ab[_0xbdbbae(0x185)][_0xbdbbae(0x162)],_0x393c22=SpreadsheetApp['openById'](googleSheetID),_0x5bcebc=_0x393c22[_0xbdbbae(0x16a)](_0xed5c32),_0x465917=_0x2133ab[_0xbdbbae(0x185)][_0xbdbbae(0x1ab)],_0x44a9b4=_0x2133ab[_0xbdbbae(0x185)][_0xbdbbae(0x191)],_0x1a1d1f=_0x2133ab[_0xbdbbae(0x185)]['pm25'],_0x370f16=_0x2133ab[_0xbdbbae(0x185)]['humidity'],_0x2a8057=_0x2133ab['parameter'][_0xbdbbae(0x16c)],_0x3f5145=_0x2133ab[_0xbdbbae(0x185)]['location'];if(_0xed5c32)return news_JSON_5field(_0x5bcebc);if(_0x4a0709)return search_sensor(_0x4a0709);return _0x465917&&_0x44a9b4&&_0x1a1d1f&&_0x370f16&&_0x2a8057?recommendSystem(_0x465917,_0x44a9b4,_0x1a1d1f,_0x370f16,_0x2a8057,_0x3f5145):HtmlService[_0xbdbbae(0x18f)](_0xbdbbae(0x165))[_0xbdbbae(0x184)]()[_0xbdbbae(0x168)](HtmlService['XFrameOptionsMode'][_0xbdbbae(0x1a5)]);}function include(_0x339f5d){var _0x2d3ae6=_0x49d5;return HtmlService[_0x2d3ae6(0x15a)](_0x339f5d)[_0x2d3ae6(0x172)]();}function doPost(_0xd14c5e){var _0x18a1a2=_0x49d5;try{var _0x3c5c3f=JSON[_0x18a1a2(0x194)](_0xd14c5e[_0x18a1a2(0x177)][_0x18a1a2(0x196)]);if(_0x3c5c3f[_0x18a1a2(0x169)](_0x18a1a2(0x180))){var _0x3b9536=_0x3c5c3f['callback_query'],_0x133048=_0x3b9536[_0x18a1a2(0x161)],_0x12019e=_0x3b9536[_0x18a1a2(0x18c)],_0x5b2524=_0x133048[_0x18a1a2(0x1b0)]['id'],_0x19b992=_0x3b9536[_0x18a1a2(0x189)]['id'],_0x5e635d=getName(_0x3b9536[_0x18a1a2(0x189)]),_0x37e165=getMarkDownUserUrl(_0x5e635d,_0x19b992),_0x54f96a=_0x133048[_0x18a1a2(0x17e)];if(_0x12019e['startsWith'](_0x18a1a2(0x158))){var _0x4413ae=_0x12019e[_0x18a1a2(0x17c)]('_')['slice'](0x3),_0x5283a3=parseFloat(_0x4413ae[0x0]),_0x363102=parseFloat(_0x4413ae[0x1]),_0x17ef05=getCallbackInfo(_0x5b2524),_0x41c690=_0x17ef05[_0x18a1a2(0x15d)];_0x41c690&&deleteMessage(_0x5b2524,_0x41c690);result=getDataForecast(_0x5283a3,_0x363102);var _0x425166=sendMessage(result,_0x5b2524,_0x54f96a)[_0x18a1a2(0x17e)];setCallbackInfo(_0x5b2524,_0x425166);}else{if(_0x12019e[_0x18a1a2(0x15e)]('air_pollution')){var _0x4413ae=_0x12019e[_0x18a1a2(0x17c)]('_')['slice'](0x2),_0x5283a3=parseFloat(_0x4413ae[0x0]),_0x363102=parseFloat(_0x4413ae[0x1]),_0x17ef05=getCallbackInfo(_0x5b2524),_0x41c690=_0x17ef05['callback'];_0x41c690&&deleteMessage(_0x5b2524,_0x41c690);result=getDataAirPollution(_0x5283a3,_0x363102)[_0x18a1a2(0x15f)];var _0x425166=sendMessage(result,_0x5b2524,_0x54f96a)[_0x18a1a2(0x17e)];setCallbackInfo(_0x5b2524,_0x425166);}else{if(_0x12019e[_0x18a1a2(0x15e)](_0x18a1a2(0x1b1))){var _0x1aac5b=getSensorValues();if(_0x1aac5b[_0x18a1a2(0x15b)]&&_0x1aac5b[_0x18a1a2(0x17a)]){var _0x53b64f=getChartInfo(_0x5b2524),_0x575b45=_0x53b64f[_0x18a1a2(0x18d)],_0x35b015=_0x53b64f['chart2'];_0x575b45&&deleteMessage(_0x5b2524,_0x575b45);_0x35b015&&deleteMessage(_0x5b2524,_0x35b015);var _0x4676c2=createChartImage(_0x1aac5b[_0x18a1a2(0x15b)],0x0,'VN'),_0x2f138b=createChartImage(_0x1aac5b[_0x18a1a2(0x17a)],0x0,'VN'),_0x1dc521=sendPhoto(_0x4676c2,_0x5b2524)['message_id'],_0x128d62=sendPhoto(_0x2f138b,_0x5b2524)['message_id'];setChartInfo(_0x5b2524,_0x1dc521,_0x128d62);}}else{if(_0x12019e[_0x18a1a2(0x15e)](_0x18a1a2(0x187))){var _0x17ef05=getCallbackInfo(_0x5b2524),_0x41c690=_0x17ef05[_0x18a1a2(0x15d)];_0x41c690&&deleteMessage(_0x5b2524,_0x41c690);_0x313a38=printRanking();var _0x425166=sendMessage(_0x313a38,_0x5b2524,_0x54f96a)[_0x18a1a2(0x17e)];setCallbackInfo(_0x5b2524,_0x425166);}}}}}if(_0x3c5c3f[_0x18a1a2(0x169)](_0x18a1a2(0x161))){var _0x133048=_0x3c5c3f[_0x18a1a2(0x161)],_0x5b2524=_0x133048[_0x18a1a2(0x1b0)]['id'],_0x19b992=_0x133048['from']['id'],_0x2cb259=_0x133048[_0x18a1a2(0x1b0)]['title'],_0x2b8756=_0x133048['chat'][_0x18a1a2(0x19c)],_0x54f96a=_0x133048[_0x18a1a2(0x17e)],_0x5e635d=getName(_0x133048[_0x18a1a2(0x189)]),_0x37e165=getMarkDownUserUrl(_0x5e635d,_0x19b992),_0xfbe649=_0x133048[_0x18a1a2(0x181)],_0x5eb10d=parse_text_command(_0xfbe649);if(_0x133048[_0x18a1a2(0x169)]('entities')){if(_0x133048[_0x18a1a2(0x19f)][0x0][_0x18a1a2(0x19c)]=='bot_command'){if(_0x2b8756==_0x18a1a2(0x19d)){if(_0x5eb10d[_0x18a1a2(0x173)]==_0x18a1a2(0x175)){var _0x20a479=getContentCommand(_0x18a1a2(0x1a3))[_0x18a1a2(0x1ae)]['replace'](_0x18a1a2(0x19e),_0x37e165),_0x313a38=_0x37e165+_0x18a1a2(0x183)+_0xfbe649+'\x0aEnviWhisper-BOT\x20answer:\x20\x0a'+_0x20a479;return sendChatAction(_0x5b2524,_0x18a1a2(0x1a4)),value_keyboard=_0x18a1a2(0x182),keyboard=build_keyboard(value_keyboard),sendMessage(_0x313a38,_0x5b2524,_0x54f96a,keyboard);}else{if(_0x5eb10d['command']==_0x18a1a2(0x190)){var _0x313a38=_0x18a1a2(0x198);return sendMessage(_0x313a38,_0x5b2524,_0x54f96a);}}}if(_0x5eb10d[_0x18a1a2(0x173)]=='/ping'){var _0x313a38=_0x18a1a2(0x18e);return sendMessage(_0x313a38,_0x5b2524,_0x54f96a);}else{if(_0x5eb10d[_0x18a1a2(0x173)]==_0x18a1a2(0x1af)){var _0x313a38=_0x37e165+_0x18a1a2(0x183)+_0xfbe649+_0x18a1a2(0x19a)+_0x18a1a2(0x179)+_0x5b2524+_0x18a1a2(0x170);return sendMessage(_0x313a38,_0x5b2524,_0x54f96a);}else{if(_0x5eb10d[_0x18a1a2(0x173)]==checkCommand(_0x5eb10d[_0x18a1a2(0x173)])){value_typeOfMessage=getContentCommand(_0x5eb10d[_0x18a1a2(0x173)])[_0x18a1a2(0x188)],_0x20a479=getContentCommand(_0x5eb10d['command'])['content']['replace'](_0x18a1a2(0x19e),_0x37e165)[_0x18a1a2(0x160)](_0x18a1a2(0x19b),_0x5b2524)[_0x18a1a2(0x160)](_0x18a1a2(0x171),_0xfbe649),inline_keyboard=getContentCommand(_0x5eb10d[_0x18a1a2(0x173)])[_0x18a1a2(0x167)];inline_keyboard?keyboard=build_inline_keyboard(inline_keyboard):keyboard='';values_url_file=getContentCommand(_0x5eb10d[_0x18a1a2(0x173)])[_0x18a1a2(0x16b)];if(value_typeOfMessage==_0x18a1a2(0x1b2)||value_typeOfMessage==_0x18a1a2(0x178))!getFileIdFromDriveUrl(values_url_file)?file=values_url_file:file=DriveApp[_0x18a1a2(0x159)](getFileIdFromDriveUrl(values_url_file))[_0x18a1a2(0x17b)]();else value_typeOfMessage==_0x18a1a2(0x1b3)&&(!getFileIdFromDriveUrl(values_url_file)?(file=values_url_file,width=null,height=null):(file=DriveApp[_0x18a1a2(0x159)](getFileIdFromDriveUrl(values_url_file))[_0x18a1a2(0x17b)](),size=Drive[_0x18a1a2(0x197)][_0x18a1a2(0x15c)](getFileIdFromDriveUrl(values_url_file),{'supportsAllDrives':!![]})[_0x18a1a2(0x1a2)],width=size[_0x18a1a2(0x166)],height=size[_0x18a1a2(0x1a0)]));if(value_typeOfMessage==_0x18a1a2(0x1a6))sendChatAction(_0x5b2524,_0x18a1a2(0x1a4)),result=sendMessage(_0x20a479,_0x5b2524,_0x54f96a,keyboard);else{if(value_typeOfMessage==_0x18a1a2(0x1b2))sendChatAction(_0x5b2524,_0x18a1a2(0x1a8)),result=sendPhoto(file,_0x5b2524,_0x20a479,_0x54f96a,keyboard);else{if(value_typeOfMessage==_0x18a1a2(0x1b3))sendChatAction(_0x5b2524,_0x18a1a2(0x18b)),result=sendVideo(file,_0x5b2524,width,height,_0x20a479,_0x54f96a,keyboard);else value_typeOfMessage==_0x18a1a2(0x178)&&(sendChatAction(_0x5b2524,_0x18a1a2(0x164)),result=sendDocument(file,_0x5b2524,_0x20a479,_0x54f96a,keyboard));}}deleteMessageCommand(_0x5b2524,result['message_id'],_0x5eb10d[_0x18a1a2(0x173)]);}}}}}if(_0x133048['hasOwnProperty'](_0x18a1a2(0x17f))){deleteMessage(_0x5b2524,_0x54f96a);var _0x567006=_0x133048[_0x18a1a2(0x17f)],_0x5a93dc=_0x567006['id'],_0x5e635d=getName(_0x567006),_0x37e165=getMarkDownUserUrl(_0x5e635d,_0x5a93dc);_0x20a479=getContentCommand(_0x18a1a2(0x175))[_0x18a1a2(0x1ae)][_0x18a1a2(0x160)](_0x18a1a2(0x19e),_0x37e165),inline_keyboard=getContentCommand('/start')[_0x18a1a2(0x167)],keyboard=build_inline_keyboard(inline_keyboard),_0x567006['username']!=myUserNameBot&&(sendMessage(JSON[_0x18a1a2(0x174)](_0x3c5c3f),myTelegramID),sendChatAction(_0x5b2524,_0x18a1a2(0x1a4)),result=sendMessage(_0x20a479,_0x5b2524,_0x54f96a=null,keyboard),deleteMessageNewMembers(_0x5b2524,result[_0x18a1a2(0x17e)]));}if(_0x133048['hasOwnProperty']('left_chat_member')){deleteMessage(_0x5b2524,_0x54f96a);var _0x2a3523=_0x133048[_0x18a1a2(0x16e)],_0x5e635d=getName(_0x2a3523),_0x2f5f11=_0x2a3523['id'],_0x37e165=getMarkDownUserUrl(_0x5e635d,_0x2f5f11);_0x313a38=_0x37e165+_0x18a1a2(0x16f)+_0x2f5f11+_0x18a1a2(0x16d)+_0x2cb259+_0x18a1a2(0x199),sendMessage(_0x313a38,myTelegramID);}if(_0x133048[_0x18a1a2(0x169)](_0x18a1a2(0x1aa))){var _0x5283a3=Number(_0x133048['location']['latitude']),_0x363102=Number(_0x133048[_0x18a1a2(0x1aa)]['longitude']),_0x4203ca=getDataFromWeatherOpen(_0x5283a3,_0x363102),_0x1e8f4=getDataNearStation(_0x5283a3,_0x363102),_0x313a38=_0x4203ca+_0x1e8f4['result'];keyboardValue=_0x18a1a2(0x1ac)+_0x5283a3+'_'+_0x363102+'\x22}],[{\x22text\x22:\x20\x22Ch·∫•t\x20l∆∞·ª£ng\x20kh√¥ng\x20kh√≠\x20khu\x20v·ª±c\x20b·∫°n\x22,\x22callback_data\x22:\x20\x22air_pollution_'+_0x5283a3+'_'+_0x363102+_0x18a1a2(0x1ad),keyboard=build_inline_keyboard(keyboardValue);var _0x38c434=getLocationInfo(_0x5b2524),_0x1636ce=_0x38c434[_0x18a1a2(0x1aa)];_0x1636ce&&deleteMessage(_0x5b2524,_0x1636ce);var _0x425166=sendMessage(_0x313a38,_0x5b2524,_0x54f96a,keyboard)[_0x18a1a2(0x17e)];setLocationInfo(_0x5b2524,_0x425166),setSensorValues(_0x1e8f4[_0x18a1a2(0x162)][0x0],_0x1e8f4[_0x18a1a2(0x162)][0x1]);}}}catch(_0x353a8a){sendMessage(JSON[_0x18a1a2(0x174)](_0x3c5c3f),myTelegramID),sendMessage(_0x353a8a[_0x18a1a2(0x17d)](),myTelegramID),sendMessage(_0x353a8a[_0x18a1a2(0x17d)](),0x1314b79ed);}}function _0x4d1e(){var _0x4f0ec9=['4741344wFofNG','upload_photo','28767sBzLcN','location','psid','[[{\x22text\x22:\x20\x22D·ª±\x20b√°o\x20th·ªùi\x20ti·∫øt\x203\x20ng√†y\x20ti·∫øp\x20theo\x22,\x22callback_data\x22:\x20\x22forecast_3_days_','\x22}],\x20[{\x22text\x22:\x20\x22L·ªãch\x20s·ª≠\x20AQI\x22,\x22callback_data\x22:\x20\x22aqiHistory\x22},\x20{\x22text\x22:\x20\x22Ranking\x22,\x22callback_data\x22:\x20\x22ranking\x22}]]','content','/hello','chat','aqiHistory','G·ª¨I\x20H√åNH\x20·∫¢NH','G·ª¨I\x20VIDEO','sheet_name','forecast_3_days','getFileById','createHtmlOutputFromFile','sensor1','get','callback','startsWith','textResult','replace','message','idst','354ciFdXC','upload_document','index','width','value_keyboard','setXFrameOptionsMode','hasOwnProperty','getSheetByName','values_url_file','temperature',']\x20v·ª´a\x20r·ªùi\x20kh·ªèi\x20nh√≥m\x20<b>','left_chat_member','\x20[ID:\x20','</b>','%text','getContent','command','stringify','/start','7783TJqbfD','postData','G·ª¨I\x20DOCUMENT','<b>','sensor2','getBlob','split','toString','message_id','new_chat_member','callback_query','text','[[{\x22text\x22:\x20\x22üìçSend\x20My\x20Location\x22,\x20\x22request_location\x22:\x20true}]]','\x20request:\x20','evaluate','parameter','1236620OhSlPW','ranking','value_typeOfMessage','from','6121650gXEdLb','upload_video','data','chart1','pong','createTemplateFromFile','/ping','aqi','5228883YFrMjk','254rmjOzJ','parse','196vrvxBY','contents','Files','pong1','.</b>','\x0aASPO-BOT\x20answer:\x20\x0aHello,\x20your\x20group\x27s\x20Telegram\x20ID\x20is\x20','%chat_id','type','private','%from_name','entities','height','55027CQsnpL','videoMediaMetadata','/welcome','typing','ALLOWALL','G·ª¨I\x20VƒÇN\x20B·∫¢N'];_0x4d1e=function(){return _0x4f0ec9;};return _0x4d1e();}